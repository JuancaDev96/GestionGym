@using System.ComponentModel.DataAnnotations
@using System.Reflection
@typeparam TItem where TItem : class
<Grid @ref="Grid" TItem="TItem" class="table table-hover table-bordered table-striped mb-4" DataProvider="ProveedorData"
      AllowFiltering="true" Responsive="true" AllowSorting="true"
      HeaderRowCssClass="bg-primary text-white border-bottom-0"
      ItemsPerPageText=" Registros por página"
      PageSizeSelectorItems="new[] { 5, 10, 20, 50 }"
      AllowPaging="true" PageSize="10" PageSizeSelectorVisible="true"
      PaginationItemsTextFormat="{0} - {1} de {2} registros"
      EmptyText="Sin datos para mostrar">

    @if (ColumnasAutomaticas)
    {
        @foreach (var item in typeof(TItem).GetProperties())
        {
            var attrib = item.GetCustomAttribute<DisplayAttribute>();
            var nombre = attrib?.Name ?? item.Name;
            if (attrib is null) continue;
            <GridColumn TItem="TItem" PropertyName="@item.Name" HeaderText="@nombre" Filterable="false" HeaderTextAlignment="HeaderAlign" TextAlignment="TextAlign">
                @item.GetValue(context)
            </GridColumn>
        }
    }

    @if (ColumnasAdicionales is not null)
    {
        @ColumnasAdicionales
    }

</Grid>
